2020-06-24 16:57:05,928  31 <module>         __main__
2020-06-24 16:57:05,928  32 <module>         ##########################################################
2020-06-24 16:57:05,928  33 <module>         #                        start                           #
2020-06-24 16:57:05,928  34 <module>         ##########################################################
2020-06-24 16:57:05,928  54 <module>         ###################### lgbm_agg start ########################
2020-06-24 16:57:05,928  71 <module>         {'n_fold': 1, 'first_day': 60, 'tr_last': 1913, 'random_seed': 777, 'alpha': 1.01, 'aggrigation': 1}
2020-06-24 16:57:05,928 102 <module>         {'objective': 'poisson', 'metric': 'rmse', 'learning_rate': 0.075, 'bagging_freq': 1, 'lambda_l2': 0.1, 'verbosity': 1, 'num_iterations': 1200, 'num_leaves': 128, 'min_data_in_leaf': 100, 'device': 'cpu'}
2020-06-24 16:57:05,928  56 load_data        load_data start
2020-06-24 16:57:09,062 141 _init_num_threads NumExpr defaulting to 8 threads.
2020-06-24 16:57:09,106  85 load_data        first_day:60
2020-06-24 16:57:14,117  97 load_data        self.dt_org.shape:(30490, 1888)
2020-06-24 16:57:14,118  98 load_data        load_data end
2020-06-24 16:57:14,118  58 run_train_cv     lgbm_agg - start training cv
2020-06-24 16:57:14,118  67 run_train_cv     lgbm_agg fold 0 - start training
2020-06-24 16:57:14,118 112 train_fold       learning start
2020-06-24 16:57:14,118 105 create_dt        start_day:60
2020-06-24 16:57:14,387 113 create_dt        dt.shape:(30490, 1860)
2020-06-24 16:57:15,997 146 create_dt        dt.melt dt.merge
2020-06-24 16:57:20,196 170 create_dt        create_dt end
2020-06-24 16:57:42,001  50 train            df.shape( after df.dropna ): (4535063, 26)
2020-06-24 16:57:42,169  70 train            x_train.index.values.shape:(4535063,)
2020-06-24 16:57:42,169  84 train            choice_size: 4000000
2020-06-24 17:01:37,860  69 run_train_cv     lgbm_agg fold 0 - end training - score 0
2020-06-24 17:01:39,802  86 run_train_cv     lgbm_agg - end training cv - score 0.0
2020-06-24 17:01:39,805 151 run_predict_cv   ######## lgbm_agg - start prediction cv ######## 
2020-06-24 17:01:39,805 159 run_predict_cv   alpha: 1.01 
2020-06-24 17:01:39,805 163 run_predict_cv   ######## lgbm_agg - start prediction fold:0 
2020-06-24 17:01:40,420 105 create_dt        start_day:1519
2020-06-24 17:01:40,458 113 create_dt        dt.shape:(30490, 401)
2020-06-24 17:01:41,031 146 create_dt        dt.melt dt.merge
2020-06-24 17:01:42,800 170 create_dt        create_dt end
2020-06-24 17:01:43,181 168 predict          predict  alpha:1.01
2020-06-24 17:01:43,256 177 predict          predict tdelta:0, day: 2016-04-25 00:00:00
2020-06-24 17:01:44,051 177 predict          predict tdelta:1, day: 2016-04-26 00:00:00
2020-06-24 17:01:44,800 177 predict          predict tdelta:2, day: 2016-04-27 00:00:00
2020-06-24 17:01:45,547 177 predict          predict tdelta:3, day: 2016-04-28 00:00:00
2020-06-24 17:01:46,297 177 predict          predict tdelta:4, day: 2016-04-29 00:00:00
2020-06-24 17:01:47,049 177 predict          predict tdelta:5, day: 2016-04-30 00:00:00
2020-06-24 17:01:47,788 177 predict          predict tdelta:6, day: 2016-05-01 00:00:00
2020-06-24 17:01:48,514 177 predict          predict tdelta:7, day: 2016-05-02 00:00:00
2020-06-24 17:01:49,253 177 predict          predict tdelta:8, day: 2016-05-03 00:00:00
2020-06-24 17:01:50,001 177 predict          predict tdelta:9, day: 2016-05-04 00:00:00
2020-06-24 17:01:50,742 177 predict          predict tdelta:10, day: 2016-05-05 00:00:00
2020-06-24 17:01:51,479 177 predict          predict tdelta:11, day: 2016-05-06 00:00:00
2020-06-24 17:01:52,230 177 predict          predict tdelta:12, day: 2016-05-07 00:00:00
2020-06-24 17:01:52,963 177 predict          predict tdelta:13, day: 2016-05-08 00:00:00
2020-06-24 17:01:53,688 177 predict          predict tdelta:14, day: 2016-05-09 00:00:00
2020-06-24 17:01:54,431 177 predict          predict tdelta:15, day: 2016-05-10 00:00:00
2020-06-24 17:01:55,173 177 predict          predict tdelta:16, day: 2016-05-11 00:00:00
2020-06-24 17:01:55,917 177 predict          predict tdelta:17, day: 2016-05-12 00:00:00
2020-06-24 17:01:56,669 177 predict          predict tdelta:18, day: 2016-05-13 00:00:00
2020-06-24 17:01:57,414 177 predict          predict tdelta:19, day: 2016-05-14 00:00:00
2020-06-24 17:01:58,137 177 predict          predict tdelta:20, day: 2016-05-15 00:00:00
2020-06-24 17:01:58,875 177 predict          predict tdelta:21, day: 2016-05-16 00:00:00
2020-06-24 17:01:59,614 177 predict          predict tdelta:22, day: 2016-05-17 00:00:00
2020-06-24 17:02:00,349 177 predict          predict tdelta:23, day: 2016-05-18 00:00:00
2020-06-24 17:02:01,087 177 predict          predict tdelta:24, day: 2016-05-19 00:00:00
2020-06-24 17:02:01,840 177 predict          predict tdelta:25, day: 2016-05-20 00:00:00
2020-06-24 17:02:02,583 177 predict          predict tdelta:26, day: 2016-05-21 00:00:00
2020-06-24 17:02:03,312 177 predict          predict tdelta:27, day: 2016-05-22 00:00:00
2020-06-24 17:02:04,406 248 predict          all row: 60980 , validation row: 30490
2020-06-24 17:02:04,443 190 run_predict_cv   evaluator:WRMSSEE
2020-06-24 17:02:18,848 194 run_predict_cv   evaluator.score
2020-06-24 17:04:20,285 197 run_predict_cv   <score_WRMSSE>0.6393220573845962 <score_RMSE>2.206613194315006 para:{'n_fold': 1, 'first_day': 60, 'tr_last': 1913, 'random_seed': 777, 'alpha': 1.01, 'aggrigation': 1} para:{'objective': 'poisson', 'metric': 'rmse', 'learning_rate': 0.075, 'bagging_freq': 1, 'lambda_l2': 0.1, 'verbosity': 1, 'num_iterations': 1200, 'num_leaves': 128, 'min_data_in_leaf': 100, 'device': 'cpu'}
2020-06-24 17:04:20,337 209 run_predict_cv   ######## lgbm_agg - end prediction fold:0 
2020-06-24 17:04:20,841 213 run_predict_cv   ######## lgbm_agg - end prediction cv ######## 
2020-06-24 17:04:23,761 113 <module>         ###################### lgbm_agg end ########################
2020-06-24 17:04:23,761 114 <module>         
2020-06-24 17:04:23,761 119 <module>         ###################### lgbm2 start ########################
2020-06-24 17:04:23,761 136 <module>         {'n_fold': 1, 'first_day': 60, 'tr_last': 1913, 'random_seed': 77, 'alpha': 1.01, 'aggrigation': 0}
2020-06-24 17:04:23,761 167 <module>         {'objective': 'poisson', 'metric': 'rmse', 'learning_rate': 0.075, 'bagging_freq': 1, 'lambda_l2': 0.1, 'verbosity': 1, 'num_iterations': 1200, 'num_leaves': 128, 'min_data_in_leaf': 100, 'device': 'cpu'}
2020-06-24 17:04:23,762  56 load_data        load_data start
2020-06-24 17:04:26,623  85 load_data        first_day:60
2020-06-24 17:04:31,310  97 load_data        self.dt_org.shape:(30490, 1888)
2020-06-24 17:04:31,310  98 load_data        load_data end
2020-06-24 17:04:31,314  58 run_train_cv     lgbm2 - start training cv
2020-06-24 17:04:31,314  67 run_train_cv     lgbm2 fold 0 - start training
2020-06-24 17:04:31,314 112 train_fold       learning start
2020-06-24 17:04:31,314 105 create_dt        start_day:60
2020-06-24 17:04:31,468 113 create_dt        dt.shape:(30490, 1860)
2020-06-24 17:04:31,473 146 create_dt        dt.melt dt.merge
2020-06-24 17:05:03,711 170 create_dt        create_dt end
2020-06-24 17:09:19,620  50 train            df.shape( after df.dropna ): (44472328, 26)
2020-06-24 17:09:21,263  70 train            x_train.index.values.shape:(44472328,)
2020-06-24 17:09:21,263  84 train            choice_size: 4000000
2020-06-24 17:58:49,737  69 run_train_cv     lgbm2 fold 0 - end training - score 0
2020-06-24 17:58:51,964  86 run_train_cv     lgbm2 - end training cv - score 0.0
2020-06-24 17:58:51,967 151 run_predict_cv   ######## lgbm2 - start prediction cv ######## 
2020-06-24 17:58:51,968 159 run_predict_cv   alpha: 1.01 
2020-06-24 17:58:51,968 163 run_predict_cv   ######## lgbm2 - start prediction fold:0 
2020-06-24 17:58:52,457 105 create_dt        start_day:1519
2020-06-24 17:58:52,623 113 create_dt        dt.shape:(30490, 401)
2020-06-24 17:58:52,642 146 create_dt        dt.melt dt.merge
2020-06-24 17:59:01,827 170 create_dt        create_dt end
2020-06-24 17:59:05,675 168 predict          predict  alpha:1.01
2020-06-24 17:59:07,447 177 predict          predict tdelta:0, day: 2016-04-25 00:00:00
2020-06-24 17:59:16,349 177 predict          predict tdelta:1, day: 2016-04-26 00:00:00
2020-06-24 17:59:24,521 177 predict          predict tdelta:2, day: 2016-04-27 00:00:00
2020-06-24 17:59:32,721 177 predict          predict tdelta:3, day: 2016-04-28 00:00:00
2020-06-24 17:59:40,932 177 predict          predict tdelta:4, day: 2016-04-29 00:00:00
2020-06-24 17:59:49,074 177 predict          predict tdelta:5, day: 2016-04-30 00:00:00
2020-06-24 17:59:57,253 177 predict          predict tdelta:6, day: 2016-05-01 00:00:00
2020-06-24 18:00:05,381 177 predict          predict tdelta:7, day: 2016-05-02 00:00:00
2020-06-24 18:00:13,549 177 predict          predict tdelta:8, day: 2016-05-03 00:00:00
2020-06-24 18:00:21,665 177 predict          predict tdelta:9, day: 2016-05-04 00:00:00
2020-06-24 18:00:29,818 177 predict          predict tdelta:10, day: 2016-05-05 00:00:00
2020-06-24 18:00:37,897 177 predict          predict tdelta:11, day: 2016-05-06 00:00:00
2020-06-24 18:00:46,004 177 predict          predict tdelta:12, day: 2016-05-07 00:00:00
2020-06-24 18:00:54,044 177 predict          predict tdelta:13, day: 2016-05-08 00:00:00
2020-06-24 18:01:02,151 177 predict          predict tdelta:14, day: 2016-05-09 00:00:00
2020-06-24 18:01:10,263 177 predict          predict tdelta:15, day: 2016-05-10 00:00:00
2020-06-24 18:01:18,364 177 predict          predict tdelta:16, day: 2016-05-11 00:00:00
2020-06-24 18:01:26,522 177 predict          predict tdelta:17, day: 2016-05-12 00:00:00
2020-06-24 18:01:34,649 177 predict          predict tdelta:18, day: 2016-05-13 00:00:00
2020-06-24 18:01:42,751 177 predict          predict tdelta:19, day: 2016-05-14 00:00:00
2020-06-24 18:01:50,866 177 predict          predict tdelta:20, day: 2016-05-15 00:00:00
2020-06-24 18:01:58,949 177 predict          predict tdelta:21, day: 2016-05-16 00:00:00
2020-06-24 18:02:07,064 177 predict          predict tdelta:22, day: 2016-05-17 00:00:00
2020-06-24 18:02:15,200 177 predict          predict tdelta:23, day: 2016-05-18 00:00:00
2020-06-24 18:02:23,370 177 predict          predict tdelta:24, day: 2016-05-19 00:00:00
2020-06-24 18:02:31,476 177 predict          predict tdelta:25, day: 2016-05-20 00:00:00
2020-06-24 18:02:39,576 177 predict          predict tdelta:26, day: 2016-05-21 00:00:00
2020-06-24 18:02:47,635 177 predict          predict tdelta:27, day: 2016-05-22 00:00:00
2020-06-24 18:02:55,904 248 predict          all row: 60980 , validation row: 30490
2020-06-24 18:02:56,113 190 run_predict_cv   evaluator:WRMSSEE
2020-06-24 18:03:11,985 194 run_predict_cv   evaluator.score
2020-06-24 18:05:13,032 197 run_predict_cv   <score_WRMSSE>0.5077447446958562 <score_RMSE>2.088483947535047 para:{'n_fold': 1, 'first_day': 60, 'tr_last': 1913, 'random_seed': 77, 'alpha': 1.01, 'aggrigation': 0} para:{'objective': 'poisson', 'metric': 'rmse', 'learning_rate': 0.075, 'bagging_freq': 1, 'lambda_l2': 0.1, 'verbosity': 1, 'num_iterations': 1200, 'num_leaves': 128, 'min_data_in_leaf': 100, 'device': 'cpu'}
2020-06-24 18:05:13,084 209 run_predict_cv   ######## lgbm2 - end prediction fold:0 
2020-06-24 18:05:13,607 213 run_predict_cv   ######## lgbm2 - end prediction cv ######## 
2020-06-24 18:05:16,525 178 <module>         ###################### lgbm2 end ########################
2020-06-24 18:05:16,525 179 <module>         
2020-06-24 18:05:16,525 184 <module>         ###################### lgbm3 start ########################
2020-06-24 18:05:16,525 201 <module>         {'n_fold': 1, 'first_day': 60, 'tr_last': 1913, 'random_seed': 7, 'alpha': 1.01, 'aggrigation': 0}
2020-06-24 18:05:16,525 232 <module>         {'objective': 'poisson', 'metric': 'rmse', 'learning_rate': 0.075, 'bagging_freq': 1, 'lambda_l2': 0.1, 'verbosity': 1, 'num_iterations': 1200, 'num_leaves': 128, 'min_data_in_leaf': 100, 'device': 'cpu'}
2020-06-24 18:05:16,525  56 load_data        load_data start
2020-06-24 18:05:19,579  85 load_data        first_day:60
2020-06-24 18:05:24,519  97 load_data        self.dt_org.shape:(30490, 1888)
2020-06-24 18:05:24,519  98 load_data        load_data end
2020-06-24 18:05:24,529  58 run_train_cv     lgbm3 - start training cv
2020-06-24 18:05:24,529  67 run_train_cv     lgbm3 fold 0 - start training
2020-06-24 18:05:24,529 112 train_fold       learning start
2020-06-24 18:05:24,529 105 create_dt        start_day:60
2020-06-24 18:05:24,749 113 create_dt        dt.shape:(30490, 1860)
2020-06-24 18:05:24,754 146 create_dt        dt.melt dt.merge
2020-06-24 18:06:02,391 170 create_dt        create_dt end
2020-06-24 18:10:36,573  50 train            df.shape( after df.dropna ): (44472328, 26)
2020-06-24 18:10:38,248  70 train            x_train.index.values.shape:(44472328,)
2020-06-24 18:10:38,248  84 train            choice_size: 4000000
2020-06-24 18:59:37,964  69 run_train_cv     lgbm3 fold 0 - end training - score 0
2020-06-24 18:59:40,321  86 run_train_cv     lgbm3 - end training cv - score 0.0
2020-06-24 18:59:40,324 151 run_predict_cv   ######## lgbm3 - start prediction cv ######## 
2020-06-24 18:59:40,324 159 run_predict_cv   alpha: 1.01 
2020-06-24 18:59:40,324 163 run_predict_cv   ######## lgbm3 - start prediction fold:0 
2020-06-24 18:59:40,852 105 create_dt        start_day:1519
2020-06-24 18:59:41,008 113 create_dt        dt.shape:(30490, 401)
2020-06-24 18:59:41,026 146 create_dt        dt.melt dt.merge
2020-06-24 18:59:50,545 170 create_dt        create_dt end
2020-06-24 18:59:54,407 168 predict          predict  alpha:1.01
2020-06-24 18:59:56,187 177 predict          predict tdelta:0, day: 2016-04-25 00:00:00
2020-06-24 19:00:05,981 177 predict          predict tdelta:1, day: 2016-04-26 00:00:00
2020-06-24 19:00:14,141 177 predict          predict tdelta:2, day: 2016-04-27 00:00:00
2020-06-24 19:00:22,286 177 predict          predict tdelta:3, day: 2016-04-28 00:00:00
2020-06-24 19:00:30,528 177 predict          predict tdelta:4, day: 2016-04-29 00:00:00
2020-06-24 19:00:38,763 177 predict          predict tdelta:5, day: 2016-04-30 00:00:00
2020-06-24 19:00:47,038 177 predict          predict tdelta:6, day: 2016-05-01 00:00:00
2020-06-24 19:00:55,286 177 predict          predict tdelta:7, day: 2016-05-02 00:00:00
2020-06-24 19:01:03,500 177 predict          predict tdelta:8, day: 2016-05-03 00:00:00
2020-06-24 19:01:11,689 177 predict          predict tdelta:9, day: 2016-05-04 00:00:00
2020-06-24 19:01:19,929 177 predict          predict tdelta:10, day: 2016-05-05 00:00:00
2020-06-24 19:01:28,139 177 predict          predict tdelta:11, day: 2016-05-06 00:00:00
2020-06-24 19:01:36,335 177 predict          predict tdelta:12, day: 2016-05-07 00:00:00
2020-06-24 19:01:44,519 177 predict          predict tdelta:13, day: 2016-05-08 00:00:00
2020-06-24 19:01:52,710 177 predict          predict tdelta:14, day: 2016-05-09 00:00:00
2020-06-24 19:02:00,881 177 predict          predict tdelta:15, day: 2016-05-10 00:00:00
2020-06-24 19:02:09,046 177 predict          predict tdelta:16, day: 2016-05-11 00:00:00
2020-06-24 19:02:17,173 177 predict          predict tdelta:17, day: 2016-05-12 00:00:00
2020-06-24 19:02:25,342 177 predict          predict tdelta:18, day: 2016-05-13 00:00:00
2020-06-24 19:02:33,456 177 predict          predict tdelta:19, day: 2016-05-14 00:00:00
2020-06-24 19:02:41,616 177 predict          predict tdelta:20, day: 2016-05-15 00:00:00
2020-06-24 19:02:49,768 177 predict          predict tdelta:21, day: 2016-05-16 00:00:00
2020-06-24 19:02:57,947 177 predict          predict tdelta:22, day: 2016-05-17 00:00:00
2020-06-24 19:03:06,126 177 predict          predict tdelta:23, day: 2016-05-18 00:00:00
2020-06-24 19:03:14,301 177 predict          predict tdelta:24, day: 2016-05-19 00:00:00
2020-06-24 19:03:22,518 177 predict          predict tdelta:25, day: 2016-05-20 00:00:00
2020-06-24 19:03:30,708 177 predict          predict tdelta:26, day: 2016-05-21 00:00:00
2020-06-24 19:03:38,906 177 predict          predict tdelta:27, day: 2016-05-22 00:00:00
2020-06-24 19:03:47,309 248 predict          all row: 60980 , validation row: 30490
2020-06-24 19:03:47,525 190 run_predict_cv   evaluator:WRMSSEE
2020-06-24 19:04:03,955 194 run_predict_cv   evaluator.score
2020-06-24 19:06:05,106 197 run_predict_cv   <score_WRMSSE>0.5091171128773246 <score_RMSE>2.1037359298438587 para:{'n_fold': 1, 'first_day': 60, 'tr_last': 1913, 'random_seed': 7, 'alpha': 1.01, 'aggrigation': 0} para:{'objective': 'poisson', 'metric': 'rmse', 'learning_rate': 0.075, 'bagging_freq': 1, 'lambda_l2': 0.1, 'verbosity': 1, 'num_iterations': 1200, 'num_leaves': 128, 'min_data_in_leaf': 100, 'device': 'cpu'}
2020-06-24 19:06:05,154 209 run_predict_cv   ######## lgbm3 - end prediction fold:0 
2020-06-24 19:06:05,680 213 run_predict_cv   ######## lgbm3 - end prediction cv ######## 
2020-06-24 19:06:08,599 243 <module>         ###################### lgbm3 end ########################
2020-06-24 19:06:08,599 244 <module>         
